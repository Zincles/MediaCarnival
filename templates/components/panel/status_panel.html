<!--
位于网页上端的状态栏。可用于切换界面。 由其他HTML文件引用。
引用的网页需确保也同时引用了Tailwind CSS。
-->

<div class="status-panel bg-neutral-800 text-white text-sm p-4 shadow mx-auto flex justify-between items-center">
  <div>
    <h1 class="text-2xl">{{TITLE|default:"TITLE"}}</h1>
    <p class="p-2">{{PARA|default:"PARA"}}</p>
    <div class="flex space-x-1">
      <a class="shadow rounded-lg p-1 bg-neutral-700 hover:bg-blue-500" href="{% url 'media_library:home' %}">主页</a>
      <a class="shadow rounded-lg p-1 bg-neutral-700 hover:bg-blue-500" href="{% url 'media_library:libraries' %}"
        >媒体库</a
      >
      <a class="shadow rounded-lg p-1 bg-neutral-700 hover:bg-blue-500" href="{% url 'file_browser:home' %}"
        >文件管理器</a
      >
    </div>
  </div>

  <!-- 设置按钮 -->
  <div class="relative">
    <button class="settings-button shadow rounded-lg p-3 bg-neutral-700 hover:bg-blue-500">
      <i class="fas fa-cog fa-lg"></i>
    </button>
    <div class="settings-dropdown absolute right-0 mt-2 w-48 bg-white text-black shadow-lg rounded-lg p-2">
      <a href="/" class="block px-2 py-1 hover:bg-blue-500 hover:text-white">设置选项1</a>
      <a href="/" class="block px-2 py-1 hover:bg-blue-500 hover:text-white">设置选项2</a>
      <!-- 添加更多的设置选项 -->
    </div>
  </div>

  <!-- 处理设置按钮按下后，弹出的面板 -->
  <script>
    window.onload = function () {
      var dropdown = document.querySelector(".settings-dropdown");
      var button = document.querySelector(".settings-button");
      dropdown.style.display = "none"; // 初始隐藏下拉菜单

      button.addEventListener("click", function (event) {
        dropdown.style.display = dropdown.style.display === "none" ? "block" : "none"; // 点击按钮时，切换下拉菜单的显示/隐藏状态
        event.stopPropagation(); // 阻止事件冒泡，防止触发文档的点击事件
      });

      document.addEventListener("click", function (event) {
        if (event.target !== dropdown && event.target !== button) {
          dropdown.style.display = "none"; // 如果点击的目标不是设置按钮或下拉菜单，就隐藏下拉菜单
        }
      });
    };
  </script>
</div>
